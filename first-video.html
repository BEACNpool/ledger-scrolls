<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="theme-color" content="#030508">
    <title>The First Video Ever Stored on a Blockchain â€” Ledger Scrolls</title>
    <meta name="description" content="Watch history being made. The first video ever stored entirely on a blockchain, reconstructed live from 175 on-chain NFTs. No servers. No links. Pure blockchain.">
    <meta property="og:title" content="The First Video Ever Stored on a Blockchain">
    <meta property="og:description" content="175 NFTs. Zero servers. One historic moment. Watch the first video reconstructed live from the Cardano blockchain.">
    <meta property="og:type" content="video.other">
    <meta property="og:image" content="https://beacnpool.org/assets/first-video-preview.png">
    <meta name="twitter:card" content="summary_large_image">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;600;700;800;900&family=Cormorant+Garamond:ital,wght@0,400;0,500;0,600;1,400&family=JetBrains+Mono:wght@300;400;500&family=Sora:wght@200;300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>ğŸ¬</text></svg>">
    <style>
        :root {
            --void: #030508;
            --deep: #080c14;
            --surface: #0e1320;
            --gold: #d4a855;
            --gold-bright: #ffd700;
            --gold-pale: #f0d78c;
            --gold-dim: #9a7b3a;
            --gold-glow: rgba(212, 168, 85, 0.35);
            --cyan: #22d3ee;
            --text: #eef2f7;
            --text-dim: #94a3b8;
            --text-muted: #5a6578;
            --font-display: 'Cinzel', serif;
            --font-body: 'Cormorant Garamond', serif;
            --font-ui: 'Sora', sans-serif;
            --font-mono: 'JetBrains Mono', monospace;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }
        html { scroll-behavior: smooth; }
        body {
            background: var(--void);
            color: var(--text);
            font-family: var(--font-ui);
            min-height: 100vh;
            overflow-x: hidden;
        }

        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• BACKGROUND â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        .bg-cosmos {
            position: fixed; inset: 0; z-index: 0;
            pointer-events: none; overflow: hidden;
        }
        .bg-cosmos::before {
            content: '';
            position: absolute; inset: -40%;
            background:
                radial-gradient(ellipse at 20% 20%, rgba(212, 168, 85, 0.06) 0%, transparent 50%),
                radial-gradient(ellipse at 80% 70%, rgba(34, 211, 238, 0.04) 0%, transparent 45%);
            animation: cosmicDrift 30s ease-in-out infinite alternate;
        }
        @keyframes cosmicDrift {
            0% { transform: translate(0,0) scale(1); }
            100% { transform: translate(3%,-2%) scale(1.08); }
        }
        .starfield { position: fixed; inset: 0; z-index: 0; pointer-events: none; }
        .star {
            position: absolute; border-radius: 50%; background: white;
            animation: twinkle var(--dur) ease-in-out infinite alternate;
        }
        @keyframes twinkle {
            0% { opacity: var(--o1); } 100% { opacity: var(--o2); }
        }

        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• CINEMA INTRO â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        .cinema-intro {
            position: fixed; inset: 0; z-index: 1000;
            background: var(--void);
            display: flex; flex-direction: column;
            align-items: center; justify-content: center;
            transition: opacity 1.2s ease, visibility 1.2s ease;
        }
        .cinema-intro.fade-out { opacity: 0; visibility: hidden; }
        .cinema-tagline {
            font-family: var(--font-display);
            font-size: clamp(0.65rem, 2vw, 0.9rem);
            letter-spacing: 6px; text-transform: uppercase;
            color: var(--gold);
            opacity: 0; animation: fadeUp 1s 0.5s ease forwards;
        }
        .cinema-line {
            width: 60px; height: 1px;
            background: linear-gradient(90deg, transparent, var(--gold), transparent);
            margin: 14px 0;
            opacity: 0; animation: fadeUp 1s 1.2s ease forwards;
        }
        .cinema-title {
            font-family: var(--font-display);
            font-size: clamp(1.7rem, 6vw, 3.5rem);
            font-weight: 700; text-align: center;
            background: linear-gradient(135deg, var(--gold-bright), var(--gold), var(--gold-pale), var(--gold));
            background-size: 200% 200%;
            -webkit-background-clip: text; -webkit-text-fill-color: transparent;
            background-clip: text;
            animation: fadeUp 1.2s 0.8s ease forwards, shimmer 4s ease-in-out infinite;
            opacity: 0; margin: 12px 0; line-height: 1.2; padding: 0 20px;
        }
        .cinema-subtitle {
            font-family: var(--font-body);
            font-size: clamp(0.95rem, 3vw, 1.35rem);
            font-style: italic; color: var(--text-dim);
            opacity: 0; animation: fadeUp 1s 1.6s ease forwards;
        }
        @keyframes fadeUp {
            from { opacity: 0; transform: translateY(18px); }
            to { opacity: 1; transform: translateY(0); }
        }
        @keyframes shimmer {
            0%,100% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
        }

        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• MAIN â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        .main-content {
            position: relative; z-index: 1;
            max-width: 1100px; margin: 0 auto; padding: 0 20px;
            opacity: 0; transition: opacity 0.8s ease 0.3s;
        }
        .main-content.visible { opacity: 1; }

        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• THEATER â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        .theater-wrapper { margin: 30px 0 20px; }
        .theater-header {
            display: flex; align-items: center; justify-content: space-between;
            padding: 0 4px 10px;
        }
        .theater-badge {
            display: flex; align-items: center; gap: 8px;
            font-family: var(--font-mono); font-size: 0.7rem;
            color: var(--gold); letter-spacing: 1px; text-transform: uppercase;
        }
        .pulse-dot {
            width: 6px; height: 6px; background: var(--gold);
            border-radius: 50%; animation: pulse 2s ease-in-out infinite;
        }
        @keyframes pulse {
            0%,100% { opacity: 1; box-shadow: 0 0 0 0 var(--gold-glow); }
            50% { opacity: 0.6; box-shadow: 0 0 0 6px transparent; }
        }
        .theater-live {
            display: flex; align-items: center; gap: 6px;
            font-family: var(--font-mono); font-size: 0.65rem;
            color: var(--cyan); letter-spacing: 1px; transition: opacity 0.5s;
        }
        .theater-live .dot { width: 5px; height: 5px; background: var(--cyan); border-radius: 50%; animation: pulse 1.5s ease-in-out infinite; }

        .theater {
            position: relative; width: 100%;
            aspect-ratio: 16/9;
            background: var(--void); border-radius: 12px; overflow: hidden;
            border: 1px solid rgba(212,168,85,0.08);
            box-shadow: 0 0 80px rgba(0,0,0,0.6), 0 0 40px rgba(212,168,85,0.05);
            transition: min-height 0.6s ease;
        }
        .theater video {
            width: 100%; height: 100%; object-fit: contain; display: none;
        }
        .theater video.ready { display: block; }

        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           CINEMATIC SLIDESHOW LOADER
           Full-bleed slides with Ken Burns, crossfade transitions,
           and a minimal progress HUD overlay.
        â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        .slideshow {
            position: absolute; inset: 0;
            background: var(--void);
            transition: opacity 0.8s ease;
        }
        .slideshow.done { opacity: 0; pointer-events: none; }

        /* â”€â”€ Individual Slide â”€â”€ */
        .slide {
            position: absolute; inset: 0;
            display: flex; flex-direction: column;
            justify-content: flex-end;
            padding: 0;
            opacity: 0;
            transition: opacity 1.2s ease;
            overflow: hidden;
        }
        .slide.active { opacity: 1; z-index: 2; }
        .slide.exiting { opacity: 0; z-index: 1; }

        /* Background layer â€” images or CSS visuals */
        .slide-bg {
            position: absolute; inset: 0;
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
        }
        /* Ken Burns effect for image slides */
        .slide.active .slide-bg.ken-burns {
            animation: kenBurns 12s ease-in-out forwards;
        }
        @keyframes kenBurns {
            0% { transform: scale(1) translate(0, 0); }
            100% { transform: scale(1.08) translate(-1%, -1%); }
        }
        /* Slow zoom for text slides */
        .slide.active .slide-bg.slow-zoom {
            animation: slowZoom 12s ease-in-out forwards;
        }
        @keyframes slowZoom {
            0% { transform: scale(1); }
            100% { transform: scale(1.04); }
        }

        /* Gradient overlay for text readability */
        .slide-overlay {
            position: absolute; inset: 0;
            z-index: 1;
        }
        .slide-overlay.bottom-heavy {
            background: linear-gradient(0deg,
                rgba(3,5,8,0.95) 0%,
                rgba(3,5,8,0.7) 35%,
                rgba(3,5,8,0.3) 60%,
                rgba(3,5,8,0.15) 100%);
        }
        .slide-overlay.full-dark {
            background: radial-gradient(ellipse at center, rgba(3,5,8,0.6) 0%, rgba(3,5,8,0.9) 100%);
        }
        .slide-overlay.center-vignette {
            background: radial-gradient(ellipse at center, transparent 20%, rgba(3,5,8,0.85) 100%);
        }

        /* Text content â€” always at the bottom */
        .slide-content {
            position: relative; z-index: 2;
            padding: 0 40px 40px;
            max-width: 700px;
        }
        .slide-eyebrow {
            font-family: var(--font-mono);
            font-size: 0.6rem; letter-spacing: 3px;
            text-transform: uppercase;
            color: var(--gold-dim);
            margin-bottom: 10px;
            opacity: 0;
            animation: none;
        }
        .slide.active .slide-eyebrow {
            animation: fadeUp 0.8s 0.3s ease forwards;
        }
        .slide-title {
            font-family: var(--font-display);
            font-size: clamp(1.2rem, 3vw, 1.8rem);
            font-weight: 700;
            color: var(--gold-pale);
            line-height: 1.25;
            margin-bottom: 12px;
            opacity: 0;
        }
        .slide.active .slide-title {
            animation: fadeUp 0.8s 0.5s ease forwards;
        }
        .slide-body {
            font-family: var(--font-body);
            font-size: clamp(1rem, 2.2vw, 1.2rem);
            color: var(--text-dim);
            line-height: 1.75;
            opacity: 0;
        }
        .slide.active .slide-body {
            animation: fadeUp 0.8s 0.7s ease forwards;
        }
        .slide-body em {
            color: var(--gold); font-style: normal; font-weight: 600;
        }

        /* Centered dramatic text slide variant */
        .slide-content.centered {
            max-width: 800px;
            margin: 0 auto;
            text-align: center;
            padding: 40px;
            display: flex; flex-direction: column;
            align-items: center; justify-content: center;
            position: absolute; inset: 0;
        }
        .slide-content.centered .slide-title {
            font-size: clamp(1.4rem, 3.5vw, 2.2rem);
        }

        /* NFT grid special bg */
        .slide-bg.nft-grid {
            /* Personal proof screenshot (local asset in this repo) */
            /* Use the 16:9 crop for better cover rendering on wide & mobile screens */
            background-image: url('media/176_16x9.jpg');
            background-size: cover;
            background-position: center top;
        }

        /* CSS-driven visual backgrounds */
        .slide-bg.pipeline-visual {
            background:
                radial-gradient(circle at 15% 50%, rgba(34,211,238,0.08) 0%, transparent 30%),
                radial-gradient(circle at 50% 50%, rgba(212,168,85,0.06) 0%, transparent 25%),
                radial-gradient(circle at 85% 50%, rgba(255,215,0,0.08) 0%, transparent 30%),
                var(--void);
        }
        .slide-bg.hash-visual {
            background:
                radial-gradient(circle at 50% 40%, rgba(212,168,85,0.1) 0%, transparent 40%),
                var(--void);
        }
        .slide-bg.library-visual {
            background:
                radial-gradient(ellipse at 30% 60%, rgba(212,168,85,0.08) 0%, transparent 40%),
                radial-gradient(ellipse at 70% 30%, rgba(34,211,238,0.06) 0%, transparent 35%),
                var(--void);
        }
        .slide-bg.cosmos-visual {
            background:
                radial-gradient(ellipse at 50% 30%, rgba(255,215,0,0.07) 0%, transparent 45%),
                radial-gradient(ellipse at 20% 70%, rgba(212,168,85,0.05) 0%, transparent 40%),
                radial-gradient(ellipse at 80% 80%, rgba(34,211,238,0.04) 0%, transparent 35%),
                var(--void);
        }

        /* CSS animated pipeline diagram inside a slide */
        .pipeline-diagram {
            position: absolute; top: 15%; left: 50%;
            transform: translateX(-50%);
            display: flex; align-items: center; gap: 0;
            z-index: 1;
            opacity: 0.6;
        }
        .pipe-node {
            width: 64px; height: 64px;
            border: 1px solid rgba(212,168,85,0.25);
            border-radius: 12px;
            display: flex; align-items: center; justify-content: center;
            font-size: 1.4rem;
            background: rgba(212,168,85,0.04);
            flex-shrink: 0;
        }
        .pipe-arrow {
            width: 40px; height: 1px;
            background: linear-gradient(90deg, rgba(212,168,85,0.3), rgba(212,168,85,0.1));
            position: relative;
            flex-shrink: 0;
        }
        .pipe-arrow::after {
            content: 'â€º';
            position: absolute; right: -4px; top: -8px;
            color: var(--gold-dim); font-size: 0.9rem;
        }

        /* Hex watermark on hash slide */
        .hex-watermark {
            position: absolute; inset: 0;
            display: flex; align-items: center; justify-content: center;
            font-family: var(--font-mono);
            font-size: clamp(0.4rem, 1vw, 0.6rem);
            color: rgba(212,168,85,0.06);
            line-height: 2;
            text-align: center;
            word-break: break-all;
            padding: 20px;
            overflow: hidden;
            z-index: 0;
        }

        /* BEACN logo in library slide */
        .beacn-watermark {
            position: absolute; top: 50%; left: 50%;
            transform: translate(-50%, -55%);
            width: 120px; height: 120px;
            opacity: 0.08;
            background-image: url('assets/beacn-logo.png');
            background-size: contain;
            background-position: center;
            background-repeat: no-repeat;
            z-index: 0;
        }

        /* â”€â”€ Progress HUD (overlay on slideshow) â”€â”€ */
        .progress-hud {
            position: absolute;
            bottom: 0; left: 0; right: 0;
            z-index: 10;
            padding: 10px 16px 12px;
            background: linear-gradient(0deg, rgba(3,5,8,0.85) 0%, transparent 100%);
            display: flex; align-items: center; gap: 14px;
        }
        .progress-bar-track {
            flex: 1; height: 3px;
            background: rgba(255,255,255,0.08);
            border-radius: 2px; overflow: hidden;
        }
        .progress-bar-fill {
            height: 100%; width: 0%;
            background: linear-gradient(90deg, var(--gold), var(--gold-bright));
            border-radius: 2px;
            transition: width 0.4s ease;
            box-shadow: 0 0 8px var(--gold-glow);
        }
        .progress-label {
            font-family: var(--font-mono); font-size: 0.6rem;
            color: var(--gold); white-space: nowrap;
            min-width: 90px; text-align: right;
        }
        .progress-label .pct { font-weight: 500; }

        /* Slide indicator dots */
        .slide-dots {
            position: absolute;
            bottom: 32px; right: 16px;
            z-index: 10;
            display: flex; flex-direction: column; gap: 5px;
        }
        .sdot {
            width: 3px; height: 12px;
            background: rgba(255,255,255,0.12);
            border-radius: 2px;
            transition: all 0.4s ease;
        }
        .sdot.active {
            background: var(--gold);
            height: 20px;
            box-shadow: 0 0 6px var(--gold-glow);
        }
        .sdot.seen { background: rgba(212,168,85,0.25); }

        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• MOBILE â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        @media (max-width: 700px) {
            .theater.is-loading {
                aspect-ratio: auto;
                min-height: 82vh;
            }
            .theater:not(.is-loading) { aspect-ratio: 16/9; }

            .slide-content {
                padding: 0 22px 52px;
            }
            .slide-content.centered {
                padding: 20px 22px 52px;
            }
            .slide-eyebrow { font-size: 0.5rem; letter-spacing: 2px; margin-bottom: 8px; }
            .slide-title { font-size: 1.15rem; margin-bottom: 8px; }
            .slide-content.centered .slide-title { font-size: 1.3rem; }
            .slide-body { font-size: 1rem; line-height: 1.6; }

            .pipeline-diagram { top: 8%; gap: 0; transform: translateX(-50%) scale(0.7); }
            .beacn-watermark { width: 80px; height: 80px; }

            .progress-hud { padding: 8px 14px 10px; }
            .progress-label { font-size: 0.5rem; min-width: 75px; }

            .slide-dots { bottom: 28px; right: 12px; gap: 4px; }
            .sdot { width: 2.5px; height: 10px; }
            .sdot.active { height: 16px; }

            .theater-header { padding: 0 2px 8px; }
            .theater-badge { font-size: 0.6rem; }
            .theater-live { font-size: 0.55rem; }

            .cinema-tagline { font-size: 0.6rem; letter-spacing: 4px; }
            .cinema-title { font-size: 1.5rem; }
            .cinema-subtitle { font-size: 0.9rem; }

            .main-content { padding: 0 14px; }
            .theater-wrapper { margin: 16px 0 14px; }

            .info-panel { padding: 22px 18px; margin: 14px 0; border-radius: 10px; }
            .info-panel h2 { font-size: 1rem; }
            .info-panel p { font-size: 1rem; line-height: 1.65; }
            .stats-row { grid-template-columns: repeat(2, 1fr); gap: 8px; }
            .stat { padding: 12px; }
            .stat-val { font-size: 1.2rem; }
            .stat-lbl { font-size: 0.6rem; }
            .explainer-grid { grid-template-columns: 1fr; gap: 10px; }
            .explainer-card { padding: 18px; }
            .explainer-card h3 { font-size: 0.8rem; }
            .explainer-card p { font-size: 0.95rem; }
            .download-section { padding: 22px 18px; margin: 14px 0; }
            .links-bar { gap: 8px; margin: 20px 0; }
            .link-btn { padding: 10px 18px; font-size: 0.65rem; }
            .site-footer { padding: 20px 16px 30px; font-size: 0.85rem; }
        }

        @media (max-width: 380px) {
            .theater.is-loading { min-height: 88vh; }
            .slide-title { font-size: 1.05rem; }
            .slide-content.centered .slide-title { font-size: 1.15rem; }
            .slide-body { font-size: 0.92rem; }
            .slide-content { padding: 0 18px 48px; }
        }

        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• POST-LOAD SECTIONS â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        .info-panel {
            background: var(--deep);
            border: 1px solid rgba(212,168,85,0.06);
            border-radius: 12px; padding: 32px; margin: 20px 0;
        }
        .info-panel h2 {
            font-family: var(--font-display); font-size: 1.15rem;
            color: var(--gold-pale); margin-bottom: 14px;
        }
        .info-panel p {
            font-family: var(--font-body); font-size: 1.1rem;
            color: var(--text-dim); line-height: 1.75; margin-bottom: 14px;
        }
        .info-panel p:last-child { margin-bottom: 0; }
        .info-panel strong { color: var(--text); }

        .stats-row {
            display: grid; grid-template-columns: repeat(auto-fit, minmax(130px,1fr));
            gap: 12px; margin-top: 20px;
        }
        .stat {
            background: rgba(212,168,85,0.03);
            border: 1px solid rgba(212,168,85,0.06);
            border-radius: 8px; padding: 16px; text-align: center;
        }
        .stat-val { font-family: var(--font-mono); font-size: 1.5rem; color: var(--gold); }
        .stat-lbl { font-family: var(--font-ui); font-size: 0.7rem; color: var(--text-muted); margin-top: 4px; }

        .explainer-grid {
            display: grid; grid-template-columns: repeat(auto-fit, minmax(280px,1fr));
            gap: 16px; margin-top: 20px;
        }
        .explainer-card {
            background: rgba(0,0,0,0.2);
            border: 1px solid rgba(212,168,85,0.05);
            border-radius: 10px; padding: 22px;
        }
        .explainer-card h3 {
            font-family: var(--font-display); font-size: 0.85rem;
            color: var(--gold); margin-bottom: 8px;
        }
        .explainer-card p {
            font-family: var(--font-body); font-size: 1rem;
            color: var(--text-dim); line-height: 1.65; margin: 0;
        }

        .download-section {
            background: linear-gradient(135deg, rgba(212,168,85,0.05), rgba(34,211,238,0.03));
            border: 1px solid rgba(212,168,85,0.1);
            border-radius: 12px; padding: 28px; margin: 20px 0; text-align: center;
        }
        .download-section h2 { font-family: var(--font-display); font-size: 1.1rem; color: var(--gold-pale); margin-bottom: 10px; }
        .download-section p { font-family: var(--font-body); font-size: 1.05rem; color: var(--text-dim); margin-bottom: 18px; line-height: 1.6; }
        .btn-download {
            display: inline-flex; align-items: center; gap: 8px;
            padding: 12px 32px;
            background: linear-gradient(135deg, var(--gold), var(--gold-dim));
            color: var(--void); font-family: var(--font-display);
            font-size: 0.8rem; font-weight: 600; letter-spacing: 1px;
            text-transform: uppercase; border: none; border-radius: 6px;
            cursor: pointer; transition: all 0.25s ease;
        }
        .btn-download:hover { box-shadow: 0 6px 24px var(--gold-glow); transform: translateY(-2px); }
        .btn-download:disabled { opacity: 0.3; cursor: not-allowed; transform: none; box-shadow: none; }

        .links-bar { display: flex; flex-wrap: wrap; gap: 12px; justify-content: center; margin: 30px 0; }
        .link-btn {
            display: inline-flex; align-items: center; gap: 8px;
            padding: 12px 24px; border-radius: 8px; text-decoration: none;
            font-family: var(--font-display); font-size: 0.75rem; font-weight: 600;
            letter-spacing: 1px; text-transform: uppercase; transition: all 0.25s ease;
        }
        .link-primary { background: linear-gradient(135deg, var(--gold), var(--gold-dim)); color: var(--void); }
        .link-primary:hover { box-shadow: 0 4px 20px var(--gold-glow); transform: translateY(-2px); }
        .link-secondary { border: 1px solid rgba(212,168,85,0.2); color: var(--gold); }
        .link-secondary:hover { border-color: var(--gold); box-shadow: 0 0 20px var(--gold-glow); }

        .site-footer {
            text-align: center; padding: 30px 20px 40px;
            font-family: var(--font-body); font-size: 0.95rem; color: var(--text-muted);
        }
        .site-footer a { color: var(--gold); text-decoration: none; }
        .site-footer a:hover { text-decoration: underline; }

        .error-box {
            position: absolute; inset: 0; display: none; flex-direction: column;
            align-items: center; justify-content: center;
            padding: 30px; text-align: center; background: var(--deep); z-index: 50;
        }
        .error-box.show { display: flex; }
        .error-box .icon { font-size: 2.5rem; margin-bottom: 16px; }
        .error-box p { font-family: var(--font-body); font-size: 1.1rem; color: var(--text-dim); margin-bottom: 16px; }
        .error-box button {
            padding: 10px 28px; background: var(--gold); color: var(--void); border: none; border-radius: 6px;
            font-family: var(--font-display); font-weight: 600; font-size: 0.8rem; cursor: pointer;
        }

        .below-fold { opacity: 0; transform: translateY(20px); transition: all 0.6s ease; }
        .below-fold.visible { opacity: 1; transform: translateY(0); }
    </style>
</head>
<body>

<div class="starfield" id="starfield"></div>
<div class="bg-cosmos"></div>

<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• CINEMA INTRO â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<div class="cinema-intro" id="cinemaIntro">
    <div class="cinema-tagline">A Ledger Scrolls Premiere</div>
    <div class="cinema-line"></div>
    <div class="cinema-title">The First Video<br>Ever Stored on a Blockchain</div>
    <div class="cinema-subtitle">175 pages + 1 manifest Â· Zero servers Â· Reconstructed live</div>
</div>

<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• MAIN â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<div class="main-content" id="mainContent">
    <div class="theater-wrapper">
        <div class="theater-header">
            <div class="theater-badge"><div class="pulse-dot"></div><span>Reconstructing from Cardano</span></div>
            <div class="theater-live" id="liveIndicator" style="opacity:0"><div class="dot"></div><span>BLOCKCHAIN LIVE</span></div>
        </div>

        <div class="theater" id="theater">
            <video id="videoPlayer" controls playsinline></video>

            <!-- â•â•â•â•â•â•â•â•â•â•â•â• CINEMATIC SLIDESHOW â•â•â•â•â•â•â•â•â•â•â•â• -->
            <div class="slideshow" id="slideshow">

                <!-- SLIDE 0: World Premiere -->
                <div class="slide active" data-idx="0">
                    <div class="slide-bg cosmos-visual slow-zoom"></div>
                    <div class="slide-overlay full-dark"></div>
                    <div class="slide-content centered">
                        <div class="slide-eyebrow">February 2026</div>
                        <div class="slide-title" style="font-size:clamp(1.4rem,4vw,2.4rem)">The First Video Ever Stored<br>Entirely on a Blockchain</div>
                        <div class="slide-body">Not a link. Not a hash. Not a pointer to a server. The actual video data â€” every byte â€” was minted onto Cardano in a scroll of pages. Your browser is about to reconstruct it live, the same way I verified it after the mint: one fragment at a time.</div>
                    </div>
                </div>

                <!-- SLIDE 1: What's Happening -->
                <div class="slide" data-idx="1">
                    <div class="slide-bg cosmos-visual slow-zoom"></div>
                    <div class="slide-overlay bottom-heavy"></div>
                    <div class="slide-content">
                        <div class="slide-eyebrow">Right Now</div>
                        <div class="slide-title">Your Browser Is Querying the Cardano Blockchain</div>
                        <div class="slide-body">No app download. No login. No streaming server. This is the same move I made when I built it: point a browser at the chain and let it do the work. Right now, your browser is reaching out to <em>Koios</em> â€” a decentralized, community-run API â€” to locate the policy and start reading the scroll page by page.</div>
                    </div>
                </div>

                <!-- SLIDE 2: 176 NFTs â€” THE IMAGE SLIDE -->
                <div class="slide" data-idx="2">
                    <div class="slide-bg nft-grid ken-burns"></div>
                    <div class="slide-overlay bottom-heavy"></div>
                    <div class="slide-content">
                        <div class="slide-eyebrow">On-Chain Proof</div>
                        <div class="slide-title">176 NFTs. One Policy. One Day.</div>
                        <div class="slide-body">That image isnâ€™t stock art â€” itâ€™s a screenshot I took and left on my desktop the moment the mint finished. <em>176 NFTs under one policy</em>: one manifest that explains the scroll, plus <em>175 pages</em> carrying hex-encoded MP4 bytes. It wasnâ€™t batch-minted with a fancy UI â€” it was done the stubborn way, one at a time, until it was finally complete.</div>
                    </div>
                </div>

                <!-- SLIDE 3: The Human Part (CNTools) -->
                <div class="slide" data-idx="3">
                    <div class="slide-bg cosmos-visual slow-zoom"></div>
                    <div class="slide-overlay bottom-heavy"></div>
                    <div class="slide-content">
                        <div class="slide-eyebrow">How It Was Made</div>
                        <div class="slide-title">CNTools. One Mint at a Time. All Day.</div>
                        <div class="slide-body">There isnâ€™t a shortcut hidden off-screen. Each page was minted manually via <em>CNTools</em> â€” one transaction, confirm, repeat â€” until 175 pages and the manifest existed on-chain. The policy is <em>38fbd56d7de6eb9df88599b5b102304df4c817aee53e4fb9c59cbed2</em>, and it locks on <em>2026-02-12 03:29:07 UTC</em>. After that moment, this scroll canâ€™t be altered. Only read.</div>
                    </div>
                </div>

                <!-- SLIDE 4: How Koios Works -->
                <div class="slide" data-idx="4">
                    <div class="slide-bg pipeline-visual slow-zoom"></div>
                    <div class="slide-overlay full-dark"></div>
                    <!-- CSS Pipeline Diagram -->
                    <div class="pipeline-diagram">
                        <div class="pipe-node">ğŸŒ</div>
                        <div class="pipe-arrow"></div>
                        <div class="pipe-node">ğŸ“¡</div>
                        <div class="pipe-arrow"></div>
                        <div class="pipe-node">ğŸ§©</div>
                        <div class="pipe-arrow"></div>
                        <div class="pipe-node">ğŸ”—</div>
                        <div class="pipe-arrow"></div>
                        <div class="pipe-node">ğŸ¬</div>
                    </div>
                    <div class="slide-content">
                        <div class="slide-eyebrow">The Pipeline</div>
                        <div class="slide-title">Browser â†’ Koios â†’ Cardano â†’ Video</div>
                        <div class="slide-body">Koios is a <em>distributed, open-source API layer</em> for Cardano. No API key. No single company controls it. Multiple independent operators host endpoints worldwide. If one node goes down, others keep serving. Your browser queries the policy ID, fetches each NFT's metadata, extracts the hex payload, and stitches them into a playable file.</div>
                    </div>
                </div>

                <!-- SLIDE 5: CIP-25 -->
                <div class="slide" data-idx="5">
                    <div class="slide-bg cosmos-visual slow-zoom"></div>
                    <div class="slide-overlay bottom-heavy"></div>
                    <div class="slide-content">
                        <div class="slide-eyebrow">Open Standard</div>
                        <div class="slide-title">CIP-25: Cardano's Native NFT Metadata</div>
                        <div class="slide-body">Every NFT page uses <em>CIP-25 metadata</em> â€” the same open standard every Cardano NFT uses. Readable by any wallet, any block explorer, any tool ever built for Cardano. No proprietary format. No vendor lock-in. This data will be readable by software that doesn't even exist yet.</div>
                    </div>
                </div>

                <!-- SLIDE 6: No Server -->
                <div class="slide" data-idx="6">
                    <div class="slide-bg slow-zoom" style="background:var(--void)"></div>
                    <div class="slide-overlay full-dark"></div>
                    <div class="slide-content centered">
                        <div class="slide-eyebrow">Zero Dependencies</div>
                        <div class="slide-title" style="font-size:clamp(1.3rem,3.5vw,2rem)">No Server. No CDN.<br>No Hosting Bill. No Kill Switch.</div>
                        <div class="slide-body">Traditional video requires servers, bandwidth, and someone paying the bills. This video requires <em>nothing</em> â€” just a browser and the Cardano blockchain. No infrastructure to maintain. No domain to renew. No company needs to stay in business. No government can order it taken down.</div>
                    </div>
                </div>

                <!-- SLIDE 7: SHA-256 -->
                <div class="slide" data-idx="7">
                    <div class="slide-bg hash-visual slow-zoom"></div>
                    <div class="slide-overlay full-dark"></div>
                    <div class="hex-watermark" aria-hidden="true">aebd63a8cdeb7aeb0a64733ab3ecd4d98557b4b337a0af60dbc1f59c7de65814aebd63a8cdeb7aeb0a64733ab3ecd4d98557b4b337a0af60dbc1f59c7de65814aebd63a8cdeb7aeb0a64733ab3ecd4d98557b4b337a0af60dbc1f59c7de65814aebd63a8cdeb7aeb0a64733ab3ecd4d98557b4b337a0af60dbc1f59c7de65814aebd63a8cdeb7aeb0a64733ab3ecd4d98557b4b337a0af60dbc1f59c7de65814aebd63a8cdeb7aeb0a64733ab3ecd4d98557b4b337a0af60dbc1f59c7de65814</div>
                    <div class="slide-content">
                        <div class="slide-eyebrow">Cryptographic Proof</div>
                        <div class="slide-title">Verified by Math, Not by Trust</div>
                        <div class="slide-body">The reconstructed video carries a <em>SHA-256 cryptographic hash</em>. Every byte can be independently verified against the on-chain record. What you see is exactly what was minted â€” mathematically provable, no trust required, no authority needed.</div>
                    </div>
                </div>

                <!-- SLIDE 8: Library That Cannot Burn -->
                <div class="slide" data-idx="8">
                    <div class="slide-bg library-visual slow-zoom"></div>
                    <div class="slide-overlay full-dark"></div>
                    <div class="beacn-watermark"></div>
                    <div class="slide-content centered">
                        <div class="slide-eyebrow">Ledger Scrolls</div>
                        <div class="slide-title">"A Library That Cannot Burn"</div>
                        <div class="slide-body">The Library of Alexandria. The House of Wisdom. Baghdad. History is a graveyard of lost knowledge. <em>Ledger Scrolls</em> is an open-source standard for storing any data permanently on the Cardano blockchain â€” documents, images, audio, video. An open library that no fire, no war, no corporate shutdown can destroy.</div>
                    </div>
                </div>

                <!-- SLIDE 9: Already on chain -->
                <div class="slide" data-idx="9">
                    <div class="slide-bg cosmos-visual slow-zoom"></div>
                    <div class="slide-overlay bottom-heavy"></div>
                    <div class="slide-content">
                        <div class="slide-eyebrow">Already Permanent</div>
                        <div class="slide-title">The Bible. The Constitution. Philosophical Texts. Now Video.</div>
                        <div class="slide-body">The complete World English Bible â€” all 66 books. Both Cardano Constitutions. Philosophical meditations. Historical documents. And now, <em>the first-ever on-chain video</em>. Anyone can mint their own scroll using the open-source tools. The permanent library grows with every contribution.</div>
                    </div>
                </div>

                <!-- SLIDE 10: Final -->
                <div class="slide" data-idx="10">
                    <div class="slide-bg slow-zoom" style="background:var(--void)"></div>
                    <div class="slide-overlay full-dark"></div>
                    <div class="slide-content centered">
                        <div class="slide-eyebrow">Stand By</div>
                        <div class="slide-title" style="font-size:clamp(1.3rem,3.5vw,2rem)">Assembling Video from the Blockchainâ€¦</div>
                        <div class="slide-body">All NFT payloads collected. Hex data concatenated. Bytes verified. Converting to a playable MP4 blob. <em>History is about to play.</em></div>
                    </div>
                </div>

                <!-- Progress HUD -->
                <div class="progress-hud">
                    <div class="progress-bar-track">
                        <div class="progress-bar-fill" id="progressFill"></div>
                    </div>
                    <div class="progress-label">
                        <span id="pageNow">0</span>/<span id="pageTotal">175</span> pages (+ manifest) Â· <span class="pct" id="pctLabel">0%</span>
                    </div>
                </div>

                <!-- Slide dots -->
                <div class="slide-dots" id="slideDots"></div>
            </div>

            <div class="error-box" id="errorBox">
                <div class="icon">âš ï¸</div>
                <p id="errorMsg">Connection failed</p>
                <button onclick="location.reload()">Try Again</button>
            </div>
        </div>
    </div>

    <!-- Post-load -->
    <section class="info-panel below-fold">
        <h2>What Just Happened</h2>
        <p>Your browser reconstructed a complete <strong>MP4 video file</strong> by reading raw data from <strong>176 NFTs on the Cardano blockchain</strong>. No streaming server. No CDN. No IPFS link. The actual binary video data lives permanently in CIP-25 NFT metadata â€” stitched back together in real-time by your browser.</p>
        <p>This is the <strong>first video ever stored entirely on any blockchain</strong>. It will remain playable for as long as Cardano exists.</p>
        <div class="stats-row">
            <div class="stat"><div class="stat-val">176</div><div class="stat-lbl">On-Chain NFTs</div></div>
            <div class="stat"><div class="stat-val" id="finalSize">â€”</div><div class="stat-lbl">Video Size</div></div>
            <div class="stat"><div class="stat-val">MP4</div><div class="stat-lbl">Format</div></div>
            <div class="stat"><div class="stat-val">âˆ</div><div class="stat-lbl">Lifespan</div></div>
        </div>
    </section>

    <section class="info-panel below-fold" style="transition-delay:0.15s">
        <h2>The Technology</h2>
        <div class="explainer-grid">
            <div class="explainer-card"><h3>ğŸ“œ Ledger Scrolls</h3><p>An open-source standard for storing immutable data on the Cardano blockchain. Documents, images, audio, video â€” permanently preserved on-chain. A library that cannot burn.</p></div>
            <div class="explainer-card"><h3>ğŸ”— Koios API</h3><p>A decentralized, community-run REST API for querying Cardano. No API key. No single point of failure. Multiple independent operators worldwide serve chain data freely.</p></div>
            <div class="explainer-card"><h3>ğŸ§© CIP-25 Metadata</h3><p>Cardano's native NFT metadata standard. Each NFT carries hex-encoded video data in its minting transaction â€” readable by any Cardano tool, forever.</p></div>
            <div class="explainer-card"><h3>ğŸ” SHA-256 Verification</h3><p>Every byte is cryptographically verifiable against an on-chain hash. Trustless data integrity â€” mathematically provable, no authority needed.</p></div>
        </div>
    </section>

    <section class="download-section below-fold" style="transition-delay:0.3s">
        <h2>Take It With You</h2>
        <p>This video was reconstructed from immutable on-chain data. Download a perfect copy â€” the same bytes that will exist on Cardano forever.</p>
        <button class="btn-download" id="downloadBtn" disabled onclick="downloadVideo()">â¬‡ Download Video</button>
    </section>

    <section class="info-panel below-fold" style="transition-delay:0.45s">
        <h2>Create Your Own Scroll</h2>
        <p>Ledger Scrolls is fully open-source. Anyone can mint immutable data on Cardano â€” documents, images, audio, video. Your data, permanently on-chain, readable by anyone, owned by no one. The tools, templates, and viewers are all free on GitHub.</p>
    </section>

    <div class="links-bar below-fold" style="transition-delay:0.6s">
        <a href="https://beacnpool.github.io/ledger-scrolls/" class="link-btn link-primary">ğŸ“š Explore Ledger Scrolls</a>
        <a href="https://github.com/beacnpool/ledger-scrolls" class="link-btn link-secondary" target="_blank">GitHub</a>
        <a href="https://beacnpool.org" class="link-btn link-secondary" target="_blank">BEACNpool</a>
    </div>

    <footer class="site-footer below-fold" style="transition-delay:0.7s">
        <p>Built by <a href="https://x.com/BEACNpool" target="_blank">@BEACNpool</a> Â· Cardano Stake Pool Â· A library that cannot burn</p>
    </footer>
</div>

<script>
(function() {

const CFG = {
    policyId: '38fbd56d7de6eb9df88599b5b102304df4c817aee53e4fb9c59cbed2',
    expected: 175,
    type: 'video/mp4',
    endpoints: [
        'https://koios.beacnpool.org/api/v1',
        'https://api.koios.rest/api/v1'
    ]
};

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// SLIDESHOW ENGINE
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
const SLIDE_DURATION = 11000; // ~11 seconds per slide (gives the story room to breathe)
const slides = document.querySelectorAll('.slide');
const totalSlides = slides.length;
let currentSlide = 0;
let slideTimer = null;

// Build slide dots
const dotsContainer = document.getElementById('slideDots');
for (let i = 0; i < totalSlides; i++) {
    const d = document.createElement('div');
    d.className = 'sdot' + (i === 0 ? ' active' : '');
    dotsContainer.appendChild(d);
}

function goToSlide(idx) {
    const prev = currentSlide;
    currentSlide = idx % totalSlides;

    slides.forEach((s, i) => {
        s.classList.remove('active', 'exiting');
        // Reset child animations
        s.querySelectorAll('.slide-eyebrow, .slide-title, .slide-body').forEach(el => {
            el.style.opacity = '0';
            el.style.animation = 'none';
        });
    });

    // Exit old slide
    if (slides[prev]) slides[prev].classList.add('exiting');

    // Enter new slide
    const next = slides[currentSlide];
    next.classList.add('active');

    // Update dots
    dotsContainer.querySelectorAll('.sdot').forEach((d, i) => {
        d.className = 'sdot';
        if (i === currentSlide) d.classList.add('active');
        else if (i < currentSlide) d.classList.add('seen');
    });
}

function startSlideshow() {
    goToSlide(0);
    slideTimer = setInterval(() => {
        goToSlide(currentSlide + 1);
    }, SLIDE_DURATION);
}

function stopSlideshow() {
    if (slideTimer) { clearInterval(slideTimer); slideTimer = null; }
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// DOM & STATE
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
const $ = id => document.getElementById(id);
let videoBlob = null;

// Stars
(function() {
    const c = $('starfield');
    const n = window.innerWidth < 768 ? 35 : 70;
    for (let i = 0; i < n; i++) {
        const s = document.createElement('div');
        s.className = 'star';
        const sz = 0.5 + Math.random() * 1.5;
        s.style.cssText = `left:${Math.random()*100}%;top:${Math.random()*100}%;width:${sz}px;height:${sz}px;--dur:${2+Math.random()*4}s;--o1:${0.1+Math.random()*0.3};--o2:${0.5+Math.random()*0.5};animation-delay:${Math.random()*5}s;`;
        c.appendChild(s);
    }
})();

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// PROGRESS
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function setProgress(pct, page) {
    $('progressFill').style.width = pct + '%';
    $('pctLabel').textContent = Math.round(pct) + '%';
    $('pageNow').textContent = page;
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// AUTO-START
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
document.addEventListener('DOMContentLoaded', () => {
    setTimeout(() => {
        $('cinemaIntro').classList.add('fade-out');
        setTimeout(() => { $('mainContent').classList.add('visible'); }, 400);
        setTimeout(() => {
            $('cinemaIntro').style.display = 'none';
            $('theater').classList.add('is-loading');
            startReconstruction();
        }, 1400);
    }, 3200);
});

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// BLOCKCHAIN API
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
async function koios(endpoint, body = null) {
    for (const base of CFG.endpoints) {
        try {
            const opts = {
                method: body ? 'POST' : 'GET',
                headers: body ? { 'Content-Type': 'application/json' } : {},
                body: body ? JSON.stringify(body) : null
            };
            const r = await fetch(`${base}${endpoint}`, opts);
            if (!r.ok) throw new Error(`HTTP ${r.status}`);
            return await r.json();
        } catch(e) { continue; }
    }
    throw new Error('All Koios endpoints unreachable. The blockchain may be temporarily unavailable.');
}

function hexToBytes(hex) {
    hex = hex.replace(/^0x/i,'').replace(/\s/g,'');
    const b = new Uint8Array(hex.length/2);
    for (let i=0;i<hex.length;i+=2) b[i/2]=parseInt(hex.substr(i,2),16);
    return b;
}
function hexToAscii(hex) {
    let s=''; for (let i=0;i<hex.length;i+=2) s+=String.fromCharCode(parseInt(hex.substr(i,2),16)); return s;
}
function extractPayloadHex(payload) {
    let hex='';
    if (Array.isArray(payload)) {
        for (const e of payload) {
            if (typeof e==='object' && e.bytes) hex+=e.bytes.replace(/^0x/i,'');
            else if (typeof e==='string') hex+=e.replace(/^0x/i,'');
        }
    } else if (typeof payload==='string') hex=payload.replace(/^0x/i,'');
    return hex.replace(/\s/g,'');
}
function formatSize(bytes) {
    if (bytes<1024) return bytes+' B';
    if (bytes<1024*1024) return (bytes/1024).toFixed(1)+' KB';
    return (bytes/(1024*1024)).toFixed(2)+' MB';
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// MAIN RECONSTRUCTION
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
async function startReconstruction() {
    try {
        startSlideshow();
        $('liveIndicator').style.opacity = '1';
        setProgress(3, 0);

        // Query policy
        const assets = [];
        let offset = 0;
        while (true) {
            const batch = await koios(`/asset_list?policy_id=eq.${CFG.policyId}&limit=1000&offset=${offset}`);
            if (!batch || batch.length===0) break;
            assets.push(...batch);
            if (batch.length<1000) break;
            offset+=1000;
        }
        setProgress(8, 0);

        // Fetch NFTs
        const pages = [];
        let done = 0;
        for (const asset of assets) {
            const name = asset.asset_name || '';
            const ascii = hexToAscii(name);
            if (!ascii.startsWith('CM_PAGE')) continue;

            done++;
            setProgress(10 + Math.floor((done/CFG.expected)*72), done);

            try {
                const info = await koios('/asset_info', { _asset_list: [[CFG.policyId, name]] });
                if (!info?.[0]) continue;
                const meta = info[0].minting_tx_metadata?.[721]?.[CFG.policyId]?.[ascii];
                if (!meta || meta.payload===undefined || meta.i===undefined) continue;
                pages.push({ index: parseInt(meta.i), payload: meta.payload });
            } catch(e) { console.warn(`Skip ${ascii}:`, e); }
            await new Promise(r=>setTimeout(r,50));
        }

        if (pages.length===0) throw new Error('No page data found on the blockchain');

        // Assembly
        setProgress(86, pages.length);
        pages.sort((a,b)=>a.index-b.index);
        let allHex='';
        for (const p of pages) allHex+=extractPayloadHex(p.payload);

        setProgress(93, pages.length);
        const raw = hexToBytes(allHex);
        $('finalSize').textContent = formatSize(raw.length);

        setProgress(98, pages.length);
        videoBlob = new Blob([raw], { type: CFG.type });
        const url = URL.createObjectURL(videoBlob);

        // Complete
        stopSlideshow();
        setProgress(100, pages.length);
        $('downloadBtn').disabled = false;

        // Jump to the final "Preparing Playback" slide
        goToSlide(totalSlides - 1);

        await new Promise(r=>setTimeout(r, 1500));

        $('theater').classList.remove('is-loading');
        $('videoPlayer').src = url;
        $('videoPlayer').classList.add('ready');
        $('slideshow').classList.add('done');
        $('liveIndicator').style.opacity = '0';

        setTimeout(() => {
            document.querySelectorAll('.below-fold').forEach(el=>el.classList.add('visible'));
        }, 800);

    } catch(e) {
        console.error('Reconstruction failed:', e);
        stopSlideshow();
        $('theater').classList.remove('is-loading');
        $('slideshow').classList.add('done');
        $('errorBox').classList.add('show');
        $('errorMsg').textContent = e.message;
    }
}

// Download
window.downloadVideo = function() {
    if (!videoBlob) return;
    const a = document.createElement('a');
    a.href = URL.createObjectURL(videoBlob);
    a.download = 'first-video-on-cardano.mp4';
    a.click();
};

})();
</script>
</body>
</html>
